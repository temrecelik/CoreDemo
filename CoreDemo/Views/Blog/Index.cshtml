<!--Burası blog/ındex sayfasıdır.-->
@using EntityLayer.Concrete
@model List<Blog> //blgs tablasundaki tablolara erişebiliriz.

@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/UserLayout.cshtml";//Blog/index sayfasının layout'u user layouttur
}



<section class="main-content-w3layouts-agileits">
	<div class="container">
		<h3 class="tittle">BLOGLAR</h3>
		<div class="inner-sec">
			<!--left-->
			<div class="left-blog-info-w3layouts-agileits text-left">
				<div class="row">

<!--Blog karesinin başladığı kısım alttan itibaren foreeach
	döngüsü ile blog tablasunda ne kadar veri varsa aşağıdaki html kodları
	her veri için birkez çalışır bu da dinamik bir yapının oluşmasını sağlar.
-->

	@foreach (var item in Model)
					{
						
					
					<div class="col-lg-4 card">
						<a href="single.html">
							<img src="@item.BlogImage" class="card-img-top img-fluid" alt="">
						</a>
						<div class="card-body">
							<ul class="blog-icons my-4">
								<li>
									<a href="#">							<!--tarihi istediğimiz formatta çekme işlemi-->
										<i class="far fa-calendar-alt"></i> @(((DateTime)item.BlogCreateDate).ToString("dd-MMM-yyyyy"))	

									</a>
								</li>
								<li class="mx-2">
									<a href="#">
										<i class="far fa-comment"></i> 0
									</a>
								</li>
								<li>
									<a href="#">				<!--part5 artık blog view'da category sütünları kullanılıyo-->
										<i class="fas fa-eye"></i> @item.Category.CategoryName
									</a>
								</li>

							</ul>
							<h5 class="card-title">
									<a href="/Blog/BlogReadAll/@item.BlogID">@item.BlogTitle</a>
							</h5>						<!--yazılan blogContentin ilk 130 karekterini gösterir-->
														<!--geri kalan kısımı alttaki devamnı oku buttonuna kodlanacak-->
														<!--Ayrıca 130 karakterin içine dahil olduğu son kelimenin tamamıyla biter-->
							<p class="card-text mb-3">@item.BlogContent.Substring(0,item.BlogContent.Substring(0,130).LastIndexOf(""))... </p>
							
							<a href="/Blog/BlogReadAll/@item.BlogID" class="btn btn-primary read-m">Devamını Oku</a>
							<!--Her blog için devamını açılacak bi şekilde bu linki gödmük
								blog controllerden bir adet BlogDetails View oluşturduk
								artık bu linkler ıd ye göre açılacak ve blogun devamı bu sayfadan okunacak
								link yapısı /controller/view/verilen numara şeklinde ilerler
								controller ya da view ismi yanlışsa hata fırlatır.
							-->

						</div>
							<br />

					</div>
					
					}
				</div>
				<!--//left-->
			</div>
		</div>
	</div>
</section>






